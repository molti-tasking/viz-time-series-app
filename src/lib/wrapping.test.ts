// sum.test.js
import { expect, test } from "vitest";
import { wrapper } from "./wrapping.ts";

test("Test wrapping on a one dimensional array with a range of 3 data points", () => {
  const input = [
    { timestamp: 1729526263058, "Col 1": 100 },
    { timestamp: 1729526264058, "Col 1": 101 },
    { timestamp: 1729526265058, "Col 1": 102 },
    { timestamp: 1729526266058, "Col 1": 103 },
    { timestamp: 1729526267058, "Col 1": 140 },
    { timestamp: 1729526268058, "Col 1": 103 },
    { timestamp: 1729526269058, "Col 1": 140 },
    { timestamp: 1729526270058, "Col 1": 139 },
    { timestamp: 1729526271058, "Col 1": 141 },
    { timestamp: 1729526272058, "Col 1": 140 },
    { timestamp: 1729526273058, "Col 1": 103 },
    { timestamp: 1729526274058, "Col 1": 102 },
    { timestamp: 1729526275058, "Col 1": 101 },
    { timestamp: 1729526276058, "Col 1": 103 },
  ];

  const expectedResult = [
    { timestamp: 1729526263058, "Col 1": 100 },
    { timestamp: 1729526264058, "Col 1": undefined },
    { timestamp: 1729526265058, "Col 1": undefined },
    { timestamp: 1729526266058, "Col 1": 103 },
    { timestamp: 1729526267058, "Col 1": 140 },
    { timestamp: 1729526268058, "Col 1": 103 },
    { timestamp: 1729526269058, "Col 1": 140 },
    { timestamp: 1729526270058, "Col 1": undefined },
    { timestamp: 1729526271058, "Col 1": undefined },
    { timestamp: 1729526272058, "Col 1": 140 },
    { timestamp: 1729526273058, "Col 1": 103 },
    { timestamp: 1729526274058, "Col 1": undefined },
    { timestamp: 1729526275058, "Col 1": undefined },
    { timestamp: 1729526276058, "Col 1": 103 },
  ];

  // Act
  const { filteredData } = wrapper(input, ["Col 1"], {
    meanRange: 0.2,
    tickRange: 3,
    mode: "multiline",
  });

  // Assert
  expect(filteredData).toStrictEqual(expectedResult);
});

test("Test wrapping on a one dimensional array with a range of 5 data points", () => {
  const input = [
    { timestamp: 1729526263058, "Col 1": 100 },
    { timestamp: 1729526264058, "Col 1": 101 },
    { timestamp: 1729526265058, "Col 1": 102 },
    { timestamp: 1729526266058, "Col 1": 103 },
    { timestamp: 1729526267058, "Col 1": 104 },
    { timestamp: 1729526268058, "Col 1": 103 },
    { timestamp: 1729526269058, "Col 1": 102 },
    { timestamp: 1729526270058, "Col 1": 139 },
    { timestamp: 1729526271058, "Col 1": 141 },
    { timestamp: 1729526272058, "Col 1": 140 },
    { timestamp: 1729526273058, "Col 1": 139 },
    { timestamp: 1729526274058, "Col 1": 102 },
    { timestamp: 1729526275058, "Col 1": 101 },
    { timestamp: 1729526276058, "Col 1": 103 },
  ];

  const expectedResult = [
    { timestamp: 1729526263058, "Col 1": 100 },
    { timestamp: 1729526264058, "Col 1": 101 },
    { timestamp: 1729526265058, "Col 1": undefined },
    { timestamp: 1729526266058, "Col 1": undefined },
    { timestamp: 1729526267058, "Col 1": undefined },
    { timestamp: 1729526268058, "Col 1": 103 },
    { timestamp: 1729526269058, "Col 1": 102 },
    { timestamp: 1729526270058, "Col 1": 139 },
    { timestamp: 1729526271058, "Col 1": 141 },
    { timestamp: 1729526272058, "Col 1": 140 },
    { timestamp: 1729526273058, "Col 1": 139 },
    { timestamp: 1729526274058, "Col 1": 102 },
    { timestamp: 1729526275058, "Col 1": 101 },
    { timestamp: 1729526276058, "Col 1": 103 },
  ];

  // Act
  const { filteredData } = wrapper(input, ["Col 1"], {
    meanRange: 0.2,
    tickRange: 5,
    mode: "envelope",
  });

  // Assert
  expect(filteredData).toStrictEqual(expectedResult);
});

// test("Test the DBSCAN", () => {
//   // ARRANGE
//   const inputValues = [
//     {
//       timestamp: 1730748224816,
//       "Col 1": 8.192577454086372,
//       "Col 2": 7.214249394304916,
//       "Col 3": 6.952020940031581,
//       "Col 4": 8.204761572945973,
//       "Col 5": 5.477781220277237,
//       "Col 6": 5.450241964846175,
//       "Col 7": 9.576176342597286,
//       "Col 8": 5.276844472222559,
//     },
//     {
//       timestamp: 1730748225816,
//       "Col 1": 8.404223684623132,
//       "Col 2": 7.33100017478337,
//       "Col 3": 7.964664591837746,
//       "Col 4": 8.167131579131338,
//       "Col 5": 5.924749155810626,
//       "Col 6": 5.599661493378058,
//       "Col 7": 9.30606937583492,
//       "Col 8": 5.5066520275709046,
//     },
//     {
//       timestamp: 1730748226816,
//       "Col 1": 7.353758835082568,
//       "Col 2": 7.696585660651455,
//       "Col 3": 8.704135801712713,
//       "Col 4": 9.441083560817797,
//       "Col 5": 6.662772819301937,
//       "Col 6": 6.083023978764473,
//       "Col 7": 10.342793196056254,
//       "Col 8": 5.7640850179751615,
//     },
//     {
//       timestamp: 1730748227816,
//       "Col 1": 7.038203305112489,
//       "Col 2": 7.424929205310152,
//       "Col 3": 8.451185804591864,
//       "Col 4": 11.065981181843862,
//       "Col 5": 7.0077341965073074,
//       "Col 6": 3.0064064438087343,
//       "Col 7": 8.702782038436712,
//       "Col 8": 5.507897462272901,
//     },
//     {
//       timestamp: 1730748228816,
//       "Col 1": 7.33729223752296,
//       "Col 2": 8.381554724987083,
//       "Col 3": 8.450094190321813,
//       "Col 4": 8.25248520930134,
//       "Col 5": 5.9157084714260995,
//       "Col 6": 2.5075537278044275,
//       "Col 7": 9.044559503858142,
//       "Col 8": 5.782949884362371,
//     },
//     {
//       timestamp: 1730748229816,
//       "Col 1": 7.707586390390847,
//       "Col 2": 8.329633269062905,
//       "Col 3": 9.737790120120039,
//       "Col 4": 8.278603646542543,
//       "Col 5": 5.421460969483431,
//       "Col 6": 2.4524259846564638,
//       "Col 7": 9.301840888159683,
//       "Col 8": 6.960509434479115,
//     },
//     {
//       timestamp: 1730748230816,
//       "Col 1": 7.7061242315083085,
//       "Col 2": 9.129517170449304,
//       "Col 3": 9.697128337431849,
//       "Col 4": 9.492951032746445,
//       "Col 5": 3.655874303745796,
//       "Col 6": 2.4889314448970223,
//       "Col 7": 9.45657735963231,
//       "Col 8": 7.684480021311445,
//     },
//     {
//       timestamp: 1730748231816,
//       "Col 1": 8.068104097984415,
//       "Col 2": 9.281420537987099,
//       "Col 3": 9.68514645573432,
//       "Col 4": 8.980120337764355,
//       "Col 5": 3.30266240408242,
//       "Col 6": 2.0727452365144927,
//       "Col 7": 10.09209942215286,
//       "Col 8": 9.148037250814891,
//     },
//     {
//       timestamp: 1730748232816,
//       "Col 1": 8.542686376914254,
//       "Col 2": 10.119671935196944,
//       "Col 3": 10.322173821228859,
//       "Col 4": 9.112785699764363,
//       "Col 5": 2.390941976056971,
//       "Col 6": 2.114477931485122,
//       "Col 7": 10.504697402287283,
//       "Col 8": 8.796308394394627,
//     },
//     {
//       timestamp: 1730748233816,
//       "Col 1": 9.30279642167985,
//       "Col 2": 10.127176592100295,
//       "Col 3": 10.283768290781143,
//       "Col 4": 9.543635163320795,
//       "Col 5": 2.762916899306569,
//       "Col 6": 2.0915023256494214,
//       "Col 7": 11.436460940911608,
//       "Col 8": 9.442423304689154,
//     },
//     {
//       timestamp: 1730748234816,
//       "Col 1": 10.325496010590815,
//       "Col 2": 11.572089110903873,
//       "Col 3": 8.629879155723145,
//       "Col 4": 11.49194714357886,
//       "Col 5": 2.7037426097449577,
//       "Col 6": 2.2319558954875567,
//       "Col 7": 13.278382137765425,
//       "Col 8": 9.415678644326569,
//     },
//     {
//       timestamp: 1730748235816,
//       "Col 1": 10.34202625811197,
//       "Col 2": 11.904573418150774,
//       "Col 3": 8.618984271417562,
//       "Col 4": 11.732361046243492,
//       "Col 5": 2.8457955518127225,
//       "Col 6": 2.271404313173587,
//       "Col 7": 12.881598188880139,
//       "Col 8": 9.465461531030046,
//     },
//     {
//       timestamp: 1730748236816,
//       "Col 1": 10.277637005685087,
//       "Col 2": 13.918950836707044,
//       "Col 3": 8.52706488340479,
//       "Col 4": 12.373861753105405,
//       "Col 5": 2.799844004510881,
//       "Col 6": 2.3264118608042272,
//       "Col 7": 14.290180162792236,
//       "Col 8": 9.294881914490215,
//     },
//     {
//       timestamp: 1730748237816,
//       "Col 1": 10.286674931125606,
//       "Col 2": 13.668787196512083,
//       "Col 3": 8.503430444747357,
//       "Col 4": 14.497258351535635,
//       "Col 5": 2.590992797538804,
//       "Col 6": 2.2218352051120642,
//       "Col 7": 13.71630384975861,
//       "Col 8": 9.401453085259297,
//     },
//     {
//       timestamp: 1730748238816,
//       "Col 1": 10.277640803948271,
//       "Col 2": 13.775533213101069,
//       "Col 3": 8.246508285377278,
//       "Col 4": 14.586555187005798,
//       "Col 5": 2.588063820238875,
//       "Col 6": 2.2248844813823436,
//       "Col 7": 15.260525760551838,
//       "Col 8": 8.16662903993478,
//     },
//     {
//       timestamp: 1730748239816,
//       "Col 1": 10.437290713245543,
//       "Col 2": 13.756761464235694,
//       "Col 3": 7.719243738218125,
//       "Col 4": 14.480214285202482,
//       "Col 5": 2.6333589031136198,
//       "Col 6": 2.228210964692947,
//       "Col 7": 14.463431894666726,
//       "Col 8": 8.16374308574612,
//     },
//     {
//       timestamp: 1730748240816,
//       "Col 1": 12.174282153314387,
//       "Col 2": 11.145205280921225,
//       "Col 3": 9.37650281947135,
//       "Col 4": 11.535468897062728,
//       "Col 5": 2.8071729145185027,
//       "Col 6": 2.300040886962016,
//       "Col 7": 15.658519875990553,
//       "Col 8": 9.808498203537267,
//     },
//     {
//       timestamp: 1730748241816,
//       "Col 1": 11.604590895331983,
//       "Col 2": 8.875889532163352,
//       "Col 3": 9.87943394777716,
//       "Col 4": 11.546443391019283,
//       "Col 5": 3.345517039740056,
//       "Col 6": 2.6267580209275714,
//       "Col 7": 15.916197261862411,
//       "Col 8": 10.13133401570291,
//     },
//     {
//       timestamp: 1730748242816,
//       "Col 1": 11.676874282337788,
//       "Col 2": 6.257799756991137,
//       "Col 3": 9.579999721997659,
//       "Col 4": 12.021710530540895,
//       "Col 5": 2.6996089252269386,
//       "Col 6": 2.6167033412978427,
//       "Col 7": 14.941547002431706,
//       "Col 8": 10.026115754461483,
//     },
//     {
//       timestamp: 1730748243816,
//       "Col 1": 13.212285638472638,
//       "Col 2": 6.226608321772492,
//       "Col 3": 8.468417772749573,
//       "Col 4": 12.055097838158305,
//       "Col 5": 2.8473544424623,
//       "Col 6": 2.6115974297014835,
//       "Col 7": 15.085116820510514,
//       "Col 8": 10.096237074150539,
//     },
//     {
//       timestamp: 1730748244816,
//       "Col 1": 13.211910217771843,
//       "Col 2": 6.20868837663766,
//       "Col 3": 10.172049859784696,
//       "Col 4": 11.12917417757857,
//       "Col 5": 3.1737018861202797,
//       "Col 6": 3.0081789539282293,
//       "Col 7": 17.92667356042239,
//       "Col 8": 9.885203851414097,
//     },
//     {
//       timestamp: 1730748245816,
//       "Col 1": 13.142333396276596,
//       "Col 2": 5.3385816734266545,
//       "Col 3": 10.154823380155506,
//       "Col 4": 12.710908709434845,
//       "Col 5": 2.7335151550166965,
//       "Col 6": 3.2182444996820836,
//       "Col 7": 21.316644441552572,
//       "Col 8": 10.299371514550147,
//     },
//     {
//       timestamp: 1730748246816,
//       "Col 1": 13.240751321801724,
//       "Col 2": 5.292203741038944,
//       "Col 3": 10.810931514787438,
//       "Col 4": 11.57366209734872,
//       "Col 5": 3.001880782376792,
//       "Col 6": 3.1906720920485454,
//       "Col 7": 17.494572961342204,
//       "Col 8": 11.130401000015029,
//     },
//     {
//       timestamp: 1730748247816,
//       "Col 1": 7.950194647143303,
//       "Col 2": 6.472040667930285,
//       "Col 3": 13.23766103272783,
//       "Col 4": 7.57487240998449,
//       "Col 5": 2.9264810698502193,
//       "Col 6": 3.958449845918251,
//       "Col 7": 20.24788504042886,
//       "Col 8": 11.142119514910325,
//     },
//     {
//       timestamp: 1730748248816,
//       "Col 1": 7.93877893915433,
//       "Col 2": 6.7689467845621,
//       "Col 3": 13.377387968391888,
//       "Col 4": 7.70992993743755,
//       "Col 5": 2.846056291835397,
//       "Col 6": 4.115659462858101,
//       "Col 7": 19.900792519181266,
//       "Col 8": 10.963936046858446,
//     },
//     {
//       timestamp: 1730748249816,
//       "Col 1": 7.98373125198787,
//       "Col 2": 4.988485269633014,
//       "Col 3": 14.936624680856308,
//       "Col 4": 7.582921439824805,
//       "Col 5": 2.6515005651173222,
//       "Col 6": 4.309911985251746,
//       "Col 7": 20.30418880993019,
//       "Col 8": 11.693780341301961,
//     },
//     {
//       timestamp: 1730748250816,
//       "Col 1": 7.8942153290122405,
//       "Col 2": 5.489178904477248,
//       "Col 3": 15.047936293781861,
//       "Col 4": 8.554641510958346,
//       "Col 5": 2.45588712924808,
//       "Col 6": 4.231027795024758,
//       "Col 7": 23.94170290749748,
//       "Col 8": 13.821408186946785,
//     },
//     {
//       timestamp: 1730748251816,
//       "Col 1": 8.413093962180174,
//       "Col 2": 5.6609098256736905,
//       "Col 3": 14.71725112747084,
//       "Col 4": 10.441608788732722,
//       "Col 5": 2.3666451549441456,
//       "Col 6": 4.541512973252482,
//       "Col 7": 28.127082204228763,
//       "Col 8": 17.392223367576367,
//     },
//     {
//       timestamp: 1730748252816,
//       "Col 1": 8.60211919919135,
//       "Col 2": 3.3593614697944703,
//       "Col 3": 14.773100144729398,
//       "Col 4": 10.627652674705741,
//       "Col 5": 2.364553702401327,
//       "Col 6": 4.654024940083209,
//       "Col 7": 27.52429054955275,
//       "Col 8": 21.08222825212897,
//     },
//     {
//       timestamp: 1730748253816,
//       "Col 1": 8.776433314754922,
//       "Col 2": 3.9399793752432672,
//       "Col 3": 15.422725957369659,
//       "Col 4": 11.876862549593888,
//       "Col 5": 2.8691639259826953,
//       "Col 6": 4.557844027522433,
//       "Col 7": 27.50724124131161,
//       "Col 8": 13.521280947578264,
//     },
//     {
//       timestamp: 1730748254816,
//       "Col 1": 8.948647109788732,
//       "Col 2": 4.17280278399233,
//       "Col 3": 18.795373942903364,
//       "Col 4": 11.877701662996602,
//       "Col 5": 2.8641410668121776,
//       "Col 6": 4.819720880063334,
//       "Col 7": 27.19903219033014,
//       "Col 8": 13.491227916113532,
//     },
//     {
//       timestamp: 1730748255816,
//       "Col 1": 9.241183779448537,
//       "Col 2": 3.834234305088443,
//       "Col 3": 21.05432789485779,
//       "Col 4": 11.854512652459091,
//       "Col 5": 3.1117109574918573,
//       "Col 6": 5.092028730122824,
//       "Col 7": 26.127582032320603,
//       "Col 8": 13.437142672911984,
//     },
//     {
//       timestamp: 1730748256816,
//       "Col 1": 9.51718073187595,
//       "Col 2": 4.91384384185595,
//       "Col 3": 21.125673626425694,
//       "Col 4": 12.887685469266035,
//       "Col 5": 2.9239001171911965,
//       "Col 6": 4.750618730368832,
//       "Col 7": 26.301973551208302,
//       "Col 8": 13.548273951968449,
//     },
//     {
//       timestamp: 1730748257816,
//       "Col 1": 10.897713258255507,
//       "Col 2": 4.814634485504194,
//       "Col 3": 21.79528615719052,
//       "Col 4": 12.859679565590392,
//       "Col 5": 3.5147955550481584,
//       "Col 6": 5.231027924433144,
//       "Col 7": 26.001319820142765,
//       "Col 8": 12.776487774697959,
//     },
//     {
//       timestamp: 1730748258816,
//       "Col 1": 10.861053092404086,
//       "Col 2": 4.800777861052632,
//       "Col 3": 27.157249680058833,
//       "Col 4": 14.485613653668223,
//       "Col 5": 3.5468160801438824,
//       "Col 6": 5.242271210741717,
//       "Col 7": 29.9754849847375,
//       "Col 8": 12.210435616473866,
//     },
//     {
//       timestamp: 1730748259816,
//       "Col 1": 11.16212642914426,
//       "Col 2": 5.016260423268073,
//       "Col 3": 26.253149018535662,
//       "Col 4": 13.359055149012192,
//       "Col 5": 3.545802820669265,
//       "Col 6": 5.187453055300787,
//       "Col 7": 29.69452329142724,
//       "Col 8": 13.780323119249351,
//     },
//     {
//       timestamp: 1730748260816,
//       "Col 1": 10.457540799261833,
//       "Col 2": 4.885378667868842,
//       "Col 3": 26.208501247393567,
//       "Col 4": 14.146003040489859,
//       "Col 5": 3.4009877861091313,
//       "Col 6": 5.6444718109800895,
//       "Col 7": 25.57144870382625,
//       "Col 8": 13.245107573679551,
//     },
//     {
//       timestamp: 1730748261816,
//       "Col 1": 12.59571108699256,
//       "Col 2": 4.871630917156015,
//       "Col 3": 24.31662299844137,
//       "Col 4": 12.679637967009525,
//       "Col 5": 2.954255127063915,
//       "Col 6": 5.773866185885559,
//       "Col 7": 25.529925228474674,
//       "Col 8": 13.193867562214644,
//     },
//   ];
//   const dimensions = [
//     "Col 1",
//     "Col 2",
//     "Col 3",
//     "Col 4",
//     "Col 5",
//     "Col 6",
//     "Col 7",
//     "Col 8",
//   ];
//   const presentationSettings = {
//     dataTicks: 20,
//     mode: "multiline" as const,
//     eps: 15,
//   };

//   const expectedResult = {
//     aggregated: [
//       [
//         {
//           timestamp: 1730748242816,
//           "Col 1": 11.676874282337788,
//           "Col 4": 12.021710530540895,
//         },
//         {
//           timestamp: 1730748243816,
//           "Col 1": 13.212285638472638,
//           "Col 4": 12.055097838158305,
//         },
//         {
//           timestamp: 1730748244816,
//           "Col 1": 13.211910217771843,
//           "Col 4": 11.12917417757857,
//         },
//         {
//           timestamp: 1730748245816,
//           "Col 1": 13.142333396276596,
//           "Col 4": 12.710908709434845,
//         },
//         {
//           timestamp: 1730748246816,
//           "Col 1": 13.240751321801724,
//           "Col 4": 11.57366209734872,
//         },
//         {
//           timestamp: 1730748247816,
//           "Col 1": 7.950194647143303,
//           "Col 4": 7.57487240998449,
//         },
//         {
//           timestamp: 1730748248816,
//           "Col 1": 7.93877893915433,
//           "Col 4": 7.70992993743755,
//         },
//         {
//           timestamp: 1730748249816,
//           "Col 1": 7.98373125198787,
//           "Col 4": 7.582921439824805,
//         },
//         {
//           timestamp: 1730748250816,
//           "Col 1": 7.8942153290122405,
//           "Col 4": 8.554641510958346,
//         },
//         {
//           timestamp: 1730748251816,
//           "Col 1": 8.413093962180174,
//           "Col 4": 10.441608788732722,
//         },
//         {
//           timestamp: 1730748252816,
//           "Col 1": 8.60211919919135,
//           "Col 4": 10.627652674705741,
//         },
//         {
//           timestamp: 1730748253816,
//           "Col 1": 8.776433314754922,
//           "Col 4": 11.876862549593888,
//         },
//         {
//           timestamp: 1730748254816,
//           "Col 1": 8.948647109788732,
//           "Col 4": 11.877701662996602,
//         },
//         {
//           timestamp: 1730748255816,
//           "Col 1": 9.241183779448537,
//           "Col 4": 11.854512652459091,
//         },
//         {
//           timestamp: 1730748256816,
//           "Col 1": 9.51718073187595,
//           "Col 4": 12.887685469266035,
//         },
//         {
//           timestamp: 1730748257816,
//           "Col 1": 10.897713258255507,
//           "Col 4": 12.859679565590392,
//         },
//         {
//           timestamp: 1730748258816,
//           "Col 1": 10.861053092404086,
//           "Col 4": 14.485613653668223,
//         },
//         {
//           timestamp: 1730748259816,
//           "Col 1": 11.16212642914426,
//           "Col 4": 13.359055149012192,
//         },
//         {
//           timestamp: 1730748260816,
//           "Col 1": 10.457540799261833,
//           "Col 4": 14.146003040489859,
//         },
//         {
//           timestamp: 1730748261816,
//           "Col 1": 12.59571108699256,
//           "Col 4": 12.679637967009525,
//         },
//       ],
//       [
//         {
//           timestamp: 1730748242816,
//           "Col 2": 6.257799756991137,
//           "Col 5": 2.6996089252269386,
//           "Col 6": 2.6167033412978427,
//         },
//         {
//           timestamp: 1730748243816,
//           "Col 2": 6.226608321772492,
//           "Col 5": 2.8473544424623,
//           "Col 6": 2.6115974297014835,
//         },
//         {
//           timestamp: 1730748244816,
//           "Col 2": 6.20868837663766,
//           "Col 5": 3.1737018861202797,
//           "Col 6": 3.0081789539282293,
//         },
//         {
//           timestamp: 1730748245816,
//           "Col 2": 5.3385816734266545,
//           "Col 5": 2.7335151550166965,
//           "Col 6": 3.2182444996820836,
//         },
//         {
//           timestamp: 1730748246816,
//           "Col 2": 5.292203741038944,
//           "Col 5": 3.001880782376792,
//           "Col 6": 3.1906720920485454,
//         },
//         {
//           timestamp: 1730748247816,
//           "Col 2": 6.472040667930285,
//           "Col 5": 2.9264810698502193,
//           "Col 6": 3.958449845918251,
//         },
//         {
//           timestamp: 1730748248816,
//           "Col 2": 6.7689467845621,
//           "Col 5": 2.846056291835397,
//           "Col 6": 4.115659462858101,
//         },
//         {
//           timestamp: 1730748249816,
//           "Col 2": 4.988485269633014,
//           "Col 5": 2.6515005651173222,
//           "Col 6": 4.309911985251746,
//         },
//         {
//           timestamp: 1730748250816,
//           "Col 2": 5.489178904477248,
//           "Col 5": 2.45588712924808,
//           "Col 6": 4.231027795024758,
//         },
//         {
//           timestamp: 1730748251816,
//           "Col 2": 5.6609098256736905,
//           "Col 5": 2.3666451549441456,
//           "Col 6": 4.541512973252482,
//         },
//         {
//           timestamp: 1730748252816,
//           "Col 2": 3.3593614697944703,
//           "Col 5": 2.364553702401327,
//           "Col 6": 4.654024940083209,
//         },
//         {
//           timestamp: 1730748253816,
//           "Col 2": 3.9399793752432672,
//           "Col 5": 2.8691639259826953,
//           "Col 6": 4.557844027522433,
//         },
//         {
//           timestamp: 1730748254816,
//           "Col 2": 4.17280278399233,
//           "Col 5": 2.8641410668121776,
//           "Col 6": 4.819720880063334,
//         },
//         {
//           timestamp: 1730748255816,
//           "Col 2": 3.834234305088443,
//           "Col 5": 3.1117109574918573,
//           "Col 6": 5.092028730122824,
//         },
//         {
//           timestamp: 1730748256816,
//           "Col 2": 4.91384384185595,
//           "Col 5": 2.9239001171911965,
//           "Col 6": 4.750618730368832,
//         },
//         {
//           timestamp: 1730748257816,
//           "Col 2": 4.814634485504194,
//           "Col 5": 3.5147955550481584,
//           "Col 6": 5.231027924433144,
//         },
//         {
//           timestamp: 1730748258816,
//           "Col 2": 4.800777861052632,
//           "Col 5": 3.5468160801438824,
//           "Col 6": 5.242271210741717,
//         },
//         {
//           timestamp: 1730748259816,
//           "Col 2": 5.016260423268073,
//           "Col 5": 3.545802820669265,
//           "Col 6": 5.187453055300787,
//         },
//         {
//           timestamp: 1730748260816,
//           "Col 2": 4.885378667868842,
//           "Col 5": 3.4009877861091313,
//           "Col 6": 5.6444718109800895,
//         },
//         {
//           timestamp: 1730748261816,
//           "Col 2": 4.871630917156015,
//           "Col 5": 2.954255127063915,
//           "Col 6": 5.773866185885559,
//         },
//       ],
//       [
//         { timestamp: 1730748242816, "Col 3": 9.579999721997659 },
//         { timestamp: 1730748243816, "Col 3": 8.468417772749573 },
//         { timestamp: 1730748244816, "Col 3": 10.172049859784696 },
//         { timestamp: 1730748245816, "Col 3": 10.154823380155506 },
//         { timestamp: 1730748246816, "Col 3": 10.810931514787438 },
//         { timestamp: 1730748247816, "Col 3": 13.23766103272783 },
//         { timestamp: 1730748248816, "Col 3": 13.377387968391888 },
//         { timestamp: 1730748249816, "Col 3": 14.936624680856308 },
//         { timestamp: 1730748250816, "Col 3": 15.047936293781861 },
//         { timestamp: 1730748251816, "Col 3": 14.71725112747084 },
//         { timestamp: 1730748252816, "Col 3": 14.773100144729398 },
//         { timestamp: 1730748253816, "Col 3": 15.422725957369659 },
//         { timestamp: 1730748254816, "Col 3": 18.795373942903364 },
//         { timestamp: 1730748255816, "Col 3": 21.05432789485779 },
//         { timestamp: 1730748256816, "Col 3": 21.125673626425694 },
//         { timestamp: 1730748257816, "Col 3": 21.79528615719052 },
//         { timestamp: 1730748258816, "Col 3": 27.157249680058833 },
//         { timestamp: 1730748259816, "Col 3": 26.253149018535662 },
//         { timestamp: 1730748260816, "Col 3": 26.208501247393567 },
//         { timestamp: 1730748261816, "Col 3": 24.31662299844137 },
//       ],
//       [
//         { timestamp: 1730748242816, "Col 7": 14.941547002431706 },
//         { timestamp: 1730748243816, "Col 7": 15.085116820510514 },
//         { timestamp: 1730748244816, "Col 7": 17.92667356042239 },
//         { timestamp: 1730748245816, "Col 7": 21.316644441552572 },
//         { timestamp: 1730748246816, "Col 7": 17.494572961342204 },
//         { timestamp: 1730748247816, "Col 7": 20.24788504042886 },
//         { timestamp: 1730748248816, "Col 7": 19.900792519181266 },
//         { timestamp: 1730748249816, "Col 7": 20.30418880993019 },
//         { timestamp: 1730748250816, "Col 7": 23.94170290749748 },
//         { timestamp: 1730748251816, "Col 7": 28.127082204228763 },
//         { timestamp: 1730748252816, "Col 7": 27.52429054955275 },
//         { timestamp: 1730748253816, "Col 7": 27.50724124131161 },
//         { timestamp: 1730748254816, "Col 7": 27.19903219033014 },
//         { timestamp: 1730748255816, "Col 7": 26.127582032320603 },
//         { timestamp: 1730748256816, "Col 7": 26.301973551208302 },
//         { timestamp: 1730748257816, "Col 7": 26.001319820142765 },
//         { timestamp: 1730748258816, "Col 7": 29.9754849847375 },
//         { timestamp: 1730748259816, "Col 7": 29.69452329142724 },
//         { timestamp: 1730748260816, "Col 7": 25.57144870382625 },
//         { timestamp: 1730748261816, "Col 7": 25.529925228474674 },
//       ],
//       [
//         { timestamp: 1730748242816, "Col 8": 10.026115754461483 },
//         { timestamp: 1730748243816, "Col 8": 10.096237074150539 },
//         { timestamp: 1730748244816, "Col 8": 9.885203851414097 },
//         { timestamp: 1730748245816, "Col 8": 10.299371514550147 },
//         { timestamp: 1730748246816, "Col 8": 11.130401000015029 },
//         { timestamp: 1730748247816, "Col 8": 11.142119514910325 },
//         { timestamp: 1730748248816, "Col 8": 10.963936046858446 },
//         { timestamp: 1730748249816, "Col 8": 11.693780341301961 },
//         { timestamp: 1730748250816, "Col 8": 13.821408186946785 },
//         { timestamp: 1730748251816, "Col 8": 17.392223367576367 },
//         { timestamp: 1730748252816, "Col 8": 21.08222825212897 },
//         { timestamp: 1730748253816, "Col 8": 13.521280947578264 },
//         { timestamp: 1730748254816, "Col 8": 13.491227916113532 },
//         { timestamp: 1730748255816, "Col 8": 13.437142672911984 },
//         { timestamp: 1730748256816, "Col 8": 13.548273951968449 },
//         { timestamp: 1730748257816, "Col 8": 12.776487774697959 },
//         { timestamp: 1730748258816, "Col 8": 12.210435616473866 },
//         { timestamp: 1730748259816, "Col 8": 13.780323119249351 },
//         { timestamp: 1730748260816, "Col 8": 13.245107573679551 },
//         { timestamp: 1730748261816, "Col 8": 13.193867562214644 },
//       ],
//     ],
//     colsAccordingToAggregation: [
//       ["Col 1", 0],
//       ["Col 2", 1],
//       ["Col 3", 2],
//       ["Col 4", 0],
//       ["Col 5", 1],
//       ["Col 6", 1],
//       ["Col 7", 3],
//       ["Col 8", 4],
//     ],
//     yDomain: [2.364553702401327, 29.9754849847375],
//   };

//   // ACT
//   const grouped = aggregator(inputValues, dimensions, presentationSettings);

//   // ASSERT
//   expect(grouped).toStrictEqual(expectedResult);
// });

// test("Test the DBSCAN with second impl", () => {
//   // ARRANGE
//   const inputValues = [
//     {
//       timestamp: 1730748224816,
//       "Col 1": 8.192577454086372,
//       "Col 2": 7.214249394304916,
//       "Col 3": 6.952020940031581,
//       "Col 4": 8.204761572945973,
//       "Col 5": 5.477781220277237,
//       "Col 6": 5.450241964846175,
//       "Col 7": 9.576176342597286,
//       "Col 8": 5.276844472222559,
//     },
//     {
//       timestamp: 1730748225816,
//       "Col 1": 8.404223684623132,
//       "Col 2": 7.33100017478337,
//       "Col 3": 7.964664591837746,
//       "Col 4": 8.167131579131338,
//       "Col 5": 5.924749155810626,
//       "Col 6": 5.599661493378058,
//       "Col 7": 9.30606937583492,
//       "Col 8": 5.5066520275709046,
//     },
//     {
//       timestamp: 1730748226816,
//       "Col 1": 7.353758835082568,
//       "Col 2": 7.696585660651455,
//       "Col 3": 8.704135801712713,
//       "Col 4": 9.441083560817797,
//       "Col 5": 6.662772819301937,
//       "Col 6": 6.083023978764473,
//       "Col 7": 10.342793196056254,
//       "Col 8": 5.7640850179751615,
//     },
//     {
//       timestamp: 1730748227816,
//       "Col 1": 7.038203305112489,
//       "Col 2": 7.424929205310152,
//       "Col 3": 8.451185804591864,
//       "Col 4": 11.065981181843862,
//       "Col 5": 7.0077341965073074,
//       "Col 6": 3.0064064438087343,
//       "Col 7": 8.702782038436712,
//       "Col 8": 5.507897462272901,
//     },
//     {
//       timestamp: 1730748228816,
//       "Col 1": 7.33729223752296,
//       "Col 2": 8.381554724987083,
//       "Col 3": 8.450094190321813,
//       "Col 4": 8.25248520930134,
//       "Col 5": 5.9157084714260995,
//       "Col 6": 2.5075537278044275,
//       "Col 7": 9.044559503858142,
//       "Col 8": 5.782949884362371,
//     },
//     {
//       timestamp: 1730748229816,
//       "Col 1": 7.707586390390847,
//       "Col 2": 8.329633269062905,
//       "Col 3": 9.737790120120039,
//       "Col 4": 8.278603646542543,
//       "Col 5": 5.421460969483431,
//       "Col 6": 2.4524259846564638,
//       "Col 7": 9.301840888159683,
//       "Col 8": 6.960509434479115,
//     },
//     {
//       timestamp: 1730748230816,
//       "Col 1": 7.7061242315083085,
//       "Col 2": 9.129517170449304,
//       "Col 3": 9.697128337431849,
//       "Col 4": 9.492951032746445,
//       "Col 5": 3.655874303745796,
//       "Col 6": 2.4889314448970223,
//       "Col 7": 9.45657735963231,
//       "Col 8": 7.684480021311445,
//     },
//     {
//       timestamp: 1730748231816,
//       "Col 1": 8.068104097984415,
//       "Col 2": 9.281420537987099,
//       "Col 3": 9.68514645573432,
//       "Col 4": 8.980120337764355,
//       "Col 5": 3.30266240408242,
//       "Col 6": 2.0727452365144927,
//       "Col 7": 10.09209942215286,
//       "Col 8": 9.148037250814891,
//     },
//     {
//       timestamp: 1730748232816,
//       "Col 1": 8.542686376914254,
//       "Col 2": 10.119671935196944,
//       "Col 3": 10.322173821228859,
//       "Col 4": 9.112785699764363,
//       "Col 5": 2.390941976056971,
//       "Col 6": 2.114477931485122,
//       "Col 7": 10.504697402287283,
//       "Col 8": 8.796308394394627,
//     },
//     {
//       timestamp: 1730748233816,
//       "Col 1": 9.30279642167985,
//       "Col 2": 10.127176592100295,
//       "Col 3": 10.283768290781143,
//       "Col 4": 9.543635163320795,
//       "Col 5": 2.762916899306569,
//       "Col 6": 2.0915023256494214,
//       "Col 7": 11.436460940911608,
//       "Col 8": 9.442423304689154,
//     },
//     {
//       timestamp: 1730748234816,
//       "Col 1": 10.325496010590815,
//       "Col 2": 11.572089110903873,
//       "Col 3": 8.629879155723145,
//       "Col 4": 11.49194714357886,
//       "Col 5": 2.7037426097449577,
//       "Col 6": 2.2319558954875567,
//       "Col 7": 13.278382137765425,
//       "Col 8": 9.415678644326569,
//     },
//     {
//       timestamp: 1730748235816,
//       "Col 1": 10.34202625811197,
//       "Col 2": 11.904573418150774,
//       "Col 3": 8.618984271417562,
//       "Col 4": 11.732361046243492,
//       "Col 5": 2.8457955518127225,
//       "Col 6": 2.271404313173587,
//       "Col 7": 12.881598188880139,
//       "Col 8": 9.465461531030046,
//     },
//     {
//       timestamp: 1730748236816,
//       "Col 1": 10.277637005685087,
//       "Col 2": 13.918950836707044,
//       "Col 3": 8.52706488340479,
//       "Col 4": 12.373861753105405,
//       "Col 5": 2.799844004510881,
//       "Col 6": 2.3264118608042272,
//       "Col 7": 14.290180162792236,
//       "Col 8": 9.294881914490215,
//     },
//     {
//       timestamp: 1730748237816,
//       "Col 1": 10.286674931125606,
//       "Col 2": 13.668787196512083,
//       "Col 3": 8.503430444747357,
//       "Col 4": 14.497258351535635,
//       "Col 5": 2.590992797538804,
//       "Col 6": 2.2218352051120642,
//       "Col 7": 13.71630384975861,
//       "Col 8": 9.401453085259297,
//     },
//     {
//       timestamp: 1730748238816,
//       "Col 1": 10.277640803948271,
//       "Col 2": 13.775533213101069,
//       "Col 3": 8.246508285377278,
//       "Col 4": 14.586555187005798,
//       "Col 5": 2.588063820238875,
//       "Col 6": 2.2248844813823436,
//       "Col 7": 15.260525760551838,
//       "Col 8": 8.16662903993478,
//     },
//     {
//       timestamp: 1730748239816,
//       "Col 1": 10.437290713245543,
//       "Col 2": 13.756761464235694,
//       "Col 3": 7.719243738218125,
//       "Col 4": 14.480214285202482,
//       "Col 5": 2.6333589031136198,
//       "Col 6": 2.228210964692947,
//       "Col 7": 14.463431894666726,
//       "Col 8": 8.16374308574612,
//     },
//     {
//       timestamp: 1730748240816,
//       "Col 1": 12.174282153314387,
//       "Col 2": 11.145205280921225,
//       "Col 3": 9.37650281947135,
//       "Col 4": 11.535468897062728,
//       "Col 5": 2.8071729145185027,
//       "Col 6": 2.300040886962016,
//       "Col 7": 15.658519875990553,
//       "Col 8": 9.808498203537267,
//     },
//     {
//       timestamp: 1730748241816,
//       "Col 1": 11.604590895331983,
//       "Col 2": 8.875889532163352,
//       "Col 3": 9.87943394777716,
//       "Col 4": 11.546443391019283,
//       "Col 5": 3.345517039740056,
//       "Col 6": 2.6267580209275714,
//       "Col 7": 15.916197261862411,
//       "Col 8": 10.13133401570291,
//     },
//     {
//       timestamp: 1730748242816,
//       "Col 1": 11.676874282337788,
//       "Col 2": 6.257799756991137,
//       "Col 3": 9.579999721997659,
//       "Col 4": 12.021710530540895,
//       "Col 5": 2.6996089252269386,
//       "Col 6": 2.6167033412978427,
//       "Col 7": 14.941547002431706,
//       "Col 8": 10.026115754461483,
//     },
//     {
//       timestamp: 1730748243816,
//       "Col 1": 13.212285638472638,
//       "Col 2": 6.226608321772492,
//       "Col 3": 8.468417772749573,
//       "Col 4": 12.055097838158305,
//       "Col 5": 2.8473544424623,
//       "Col 6": 2.6115974297014835,
//       "Col 7": 15.085116820510514,
//       "Col 8": 10.096237074150539,
//     },
//     {
//       timestamp: 1730748244816,
//       "Col 1": 13.211910217771843,
//       "Col 2": 6.20868837663766,
//       "Col 3": 10.172049859784696,
//       "Col 4": 11.12917417757857,
//       "Col 5": 3.1737018861202797,
//       "Col 6": 3.0081789539282293,
//       "Col 7": 17.92667356042239,
//       "Col 8": 9.885203851414097,
//     },
//     {
//       timestamp: 1730748245816,
//       "Col 1": 13.142333396276596,
//       "Col 2": 5.3385816734266545,
//       "Col 3": 10.154823380155506,
//       "Col 4": 12.710908709434845,
//       "Col 5": 2.7335151550166965,
//       "Col 6": 3.2182444996820836,
//       "Col 7": 21.316644441552572,
//       "Col 8": 10.299371514550147,
//     },
//     {
//       timestamp: 1730748246816,
//       "Col 1": 13.240751321801724,
//       "Col 2": 5.292203741038944,
//       "Col 3": 10.810931514787438,
//       "Col 4": 11.57366209734872,
//       "Col 5": 3.001880782376792,
//       "Col 6": 3.1906720920485454,
//       "Col 7": 17.494572961342204,
//       "Col 8": 11.130401000015029,
//     },
//     {
//       timestamp: 1730748247816,
//       "Col 1": 7.950194647143303,
//       "Col 2": 6.472040667930285,
//       "Col 3": 13.23766103272783,
//       "Col 4": 7.57487240998449,
//       "Col 5": 2.9264810698502193,
//       "Col 6": 3.958449845918251,
//       "Col 7": 20.24788504042886,
//       "Col 8": 11.142119514910325,
//     },
//     {
//       timestamp: 1730748248816,
//       "Col 1": 7.93877893915433,
//       "Col 2": 6.7689467845621,
//       "Col 3": 13.377387968391888,
//       "Col 4": 7.70992993743755,
//       "Col 5": 2.846056291835397,
//       "Col 6": 4.115659462858101,
//       "Col 7": 19.900792519181266,
//       "Col 8": 10.963936046858446,
//     },
//     {
//       timestamp: 1730748249816,
//       "Col 1": 7.98373125198787,
//       "Col 2": 4.988485269633014,
//       "Col 3": 14.936624680856308,
//       "Col 4": 7.582921439824805,
//       "Col 5": 2.6515005651173222,
//       "Col 6": 4.309911985251746,
//       "Col 7": 20.30418880993019,
//       "Col 8": 11.693780341301961,
//     },
//     {
//       timestamp: 1730748250816,
//       "Col 1": 7.8942153290122405,
//       "Col 2": 5.489178904477248,
//       "Col 3": 15.047936293781861,
//       "Col 4": 8.554641510958346,
//       "Col 5": 2.45588712924808,
//       "Col 6": 4.231027795024758,
//       "Col 7": 23.94170290749748,
//       "Col 8": 13.821408186946785,
//     },
//     {
//       timestamp: 1730748251816,
//       "Col 1": 8.413093962180174,
//       "Col 2": 5.6609098256736905,
//       "Col 3": 14.71725112747084,
//       "Col 4": 10.441608788732722,
//       "Col 5": 2.3666451549441456,
//       "Col 6": 4.541512973252482,
//       "Col 7": 28.127082204228763,
//       "Col 8": 17.392223367576367,
//     },
//     {
//       timestamp: 1730748252816,
//       "Col 1": 8.60211919919135,
//       "Col 2": 3.3593614697944703,
//       "Col 3": 14.773100144729398,
//       "Col 4": 10.627652674705741,
//       "Col 5": 2.364553702401327,
//       "Col 6": 4.654024940083209,
//       "Col 7": 27.52429054955275,
//       "Col 8": 21.08222825212897,
//     },
//     {
//       timestamp: 1730748253816,
//       "Col 1": 8.776433314754922,
//       "Col 2": 3.9399793752432672,
//       "Col 3": 15.422725957369659,
//       "Col 4": 11.876862549593888,
//       "Col 5": 2.8691639259826953,
//       "Col 6": 4.557844027522433,
//       "Col 7": 27.50724124131161,
//       "Col 8": 13.521280947578264,
//     },
//     {
//       timestamp: 1730748254816,
//       "Col 1": 8.948647109788732,
//       "Col 2": 4.17280278399233,
//       "Col 3": 18.795373942903364,
//       "Col 4": 11.877701662996602,
//       "Col 5": 2.8641410668121776,
//       "Col 6": 4.819720880063334,
//       "Col 7": 27.19903219033014,
//       "Col 8": 13.491227916113532,
//     },
//     {
//       timestamp: 1730748255816,
//       "Col 1": 9.241183779448537,
//       "Col 2": 3.834234305088443,
//       "Col 3": 21.05432789485779,
//       "Col 4": 11.854512652459091,
//       "Col 5": 3.1117109574918573,
//       "Col 6": 5.092028730122824,
//       "Col 7": 26.127582032320603,
//       "Col 8": 13.437142672911984,
//     },
//     {
//       timestamp: 1730748256816,
//       "Col 1": 9.51718073187595,
//       "Col 2": 4.91384384185595,
//       "Col 3": 21.125673626425694,
//       "Col 4": 12.887685469266035,
//       "Col 5": 2.9239001171911965,
//       "Col 6": 4.750618730368832,
//       "Col 7": 26.301973551208302,
//       "Col 8": 13.548273951968449,
//     },
//     {
//       timestamp: 1730748257816,
//       "Col 1": 10.897713258255507,
//       "Col 2": 4.814634485504194,
//       "Col 3": 21.79528615719052,
//       "Col 4": 12.859679565590392,
//       "Col 5": 3.5147955550481584,
//       "Col 6": 5.231027924433144,
//       "Col 7": 26.001319820142765,
//       "Col 8": 12.776487774697959,
//     },
//     {
//       timestamp: 1730748258816,
//       "Col 1": 10.861053092404086,
//       "Col 2": 4.800777861052632,
//       "Col 3": 27.157249680058833,
//       "Col 4": 14.485613653668223,
//       "Col 5": 3.5468160801438824,
//       "Col 6": 5.242271210741717,
//       "Col 7": 29.9754849847375,
//       "Col 8": 12.210435616473866,
//     },
//     {
//       timestamp: 1730748259816,
//       "Col 1": 11.16212642914426,
//       "Col 2": 5.016260423268073,
//       "Col 3": 26.253149018535662,
//       "Col 4": 13.359055149012192,
//       "Col 5": 3.545802820669265,
//       "Col 6": 5.187453055300787,
//       "Col 7": 29.69452329142724,
//       "Col 8": 13.780323119249351,
//     },
//     {
//       timestamp: 1730748260816,
//       "Col 1": 10.457540799261833,
//       "Col 2": 4.885378667868842,
//       "Col 3": 26.208501247393567,
//       "Col 4": 14.146003040489859,
//       "Col 5": 3.4009877861091313,
//       "Col 6": 5.6444718109800895,
//       "Col 7": 25.57144870382625,
//       "Col 8": 13.245107573679551,
//     },
//     {
//       timestamp: 1730748261816,
//       "Col 1": 12.59571108699256,
//       "Col 2": 4.871630917156015,
//       "Col 3": 24.31662299844137,
//       "Col 4": 12.679637967009525,
//       "Col 5": 2.954255127063915,
//       "Col 6": 5.773866185885559,
//       "Col 7": 25.529925228474674,
//       "Col 8": 13.193867562214644,
//     },
//   ];
//   const dimensions = [
//     "Col 1",
//     "Col 2",
//     "Col 3",
//     "Col 4",
//     "Col 5",
//     "Col 6",
//     "Col 7",
//     "Col 8",
//   ];
//   const presentationSettings = {
//     dataTicks: 20,
//     mode: "multiline" as const,
//     eps: 15,
//   };

//   const expectedResult = {
//     aggregated: [
//       [
//         {
//           timestamp: 1730748242816,
//           "Col 1": 11.676874282337788,
//           "Col 4": 12.021710530540895,
//         },
//         {
//           timestamp: 1730748243816,
//           "Col 1": 13.212285638472638,
//           "Col 4": 12.055097838158305,
//         },
//         {
//           timestamp: 1730748244816,
//           "Col 1": 13.211910217771843,
//           "Col 4": 11.12917417757857,
//         },
//         {
//           timestamp: 1730748245816,
//           "Col 1": 13.142333396276596,
//           "Col 4": 12.710908709434845,
//         },
//         {
//           timestamp: 1730748246816,
//           "Col 1": 13.240751321801724,
//           "Col 4": 11.57366209734872,
//         },
//         {
//           timestamp: 1730748247816,
//           "Col 1": 7.950194647143303,
//           "Col 4": 7.57487240998449,
//         },
//         {
//           timestamp: 1730748248816,
//           "Col 1": 7.93877893915433,
//           "Col 4": 7.70992993743755,
//         },
//         {
//           timestamp: 1730748249816,
//           "Col 1": 7.98373125198787,
//           "Col 4": 7.582921439824805,
//         },
//         {
//           timestamp: 1730748250816,
//           "Col 1": 7.8942153290122405,
//           "Col 4": 8.554641510958346,
//         },
//         {
//           timestamp: 1730748251816,
//           "Col 1": 8.413093962180174,
//           "Col 4": 10.441608788732722,
//         },
//         {
//           timestamp: 1730748252816,
//           "Col 1": 8.60211919919135,
//           "Col 4": 10.627652674705741,
//         },
//         {
//           timestamp: 1730748253816,
//           "Col 1": 8.776433314754922,
//           "Col 4": 11.876862549593888,
//         },
//         {
//           timestamp: 1730748254816,
//           "Col 1": 8.948647109788732,
//           "Col 4": 11.877701662996602,
//         },
//         {
//           timestamp: 1730748255816,
//           "Col 1": 9.241183779448537,
//           "Col 4": 11.854512652459091,
//         },
//         {
//           timestamp: 1730748256816,
//           "Col 1": 9.51718073187595,
//           "Col 4": 12.887685469266035,
//         },
//         {
//           timestamp: 1730748257816,
//           "Col 1": 10.897713258255507,
//           "Col 4": 12.859679565590392,
//         },
//         {
//           timestamp: 1730748258816,
//           "Col 1": 10.861053092404086,
//           "Col 4": 14.485613653668223,
//         },
//         {
//           timestamp: 1730748259816,
//           "Col 1": 11.16212642914426,
//           "Col 4": 13.359055149012192,
//         },
//         {
//           timestamp: 1730748260816,
//           "Col 1": 10.457540799261833,
//           "Col 4": 14.146003040489859,
//         },
//         {
//           timestamp: 1730748261816,
//           "Col 1": 12.59571108699256,
//           "Col 4": 12.679637967009525,
//         },
//       ],
//       [
//         {
//           timestamp: 1730748242816,
//           "Col 2": 6.257799756991137,
//           "Col 5": 2.6996089252269386,
//           "Col 6": 2.6167033412978427,
//         },
//         {
//           timestamp: 1730748243816,
//           "Col 2": 6.226608321772492,
//           "Col 5": 2.8473544424623,
//           "Col 6": 2.6115974297014835,
//         },
//         {
//           timestamp: 1730748244816,
//           "Col 2": 6.20868837663766,
//           "Col 5": 3.1737018861202797,
//           "Col 6": 3.0081789539282293,
//         },
//         {
//           timestamp: 1730748245816,
//           "Col 2": 5.3385816734266545,
//           "Col 5": 2.7335151550166965,
//           "Col 6": 3.2182444996820836,
//         },
//         {
//           timestamp: 1730748246816,
//           "Col 2": 5.292203741038944,
//           "Col 5": 3.001880782376792,
//           "Col 6": 3.1906720920485454,
//         },
//         {
//           timestamp: 1730748247816,
//           "Col 2": 6.472040667930285,
//           "Col 5": 2.9264810698502193,
//           "Col 6": 3.958449845918251,
//         },
//         {
//           timestamp: 1730748248816,
//           "Col 2": 6.7689467845621,
//           "Col 5": 2.846056291835397,
//           "Col 6": 4.115659462858101,
//         },
//         {
//           timestamp: 1730748249816,
//           "Col 2": 4.988485269633014,
//           "Col 5": 2.6515005651173222,
//           "Col 6": 4.309911985251746,
//         },
//         {
//           timestamp: 1730748250816,
//           "Col 2": 5.489178904477248,
//           "Col 5": 2.45588712924808,
//           "Col 6": 4.231027795024758,
//         },
//         {
//           timestamp: 1730748251816,
//           "Col 2": 5.6609098256736905,
//           "Col 5": 2.3666451549441456,
//           "Col 6": 4.541512973252482,
//         },
//         {
//           timestamp: 1730748252816,
//           "Col 2": 3.3593614697944703,
//           "Col 5": 2.364553702401327,
//           "Col 6": 4.654024940083209,
//         },
//         {
//           timestamp: 1730748253816,
//           "Col 2": 3.9399793752432672,
//           "Col 5": 2.8691639259826953,
//           "Col 6": 4.557844027522433,
//         },
//         {
//           timestamp: 1730748254816,
//           "Col 2": 4.17280278399233,
//           "Col 5": 2.8641410668121776,
//           "Col 6": 4.819720880063334,
//         },
//         {
//           timestamp: 1730748255816,
//           "Col 2": 3.834234305088443,
//           "Col 5": 3.1117109574918573,
//           "Col 6": 5.092028730122824,
//         },
//         {
//           timestamp: 1730748256816,
//           "Col 2": 4.91384384185595,
//           "Col 5": 2.9239001171911965,
//           "Col 6": 4.750618730368832,
//         },
//         {
//           timestamp: 1730748257816,
//           "Col 2": 4.814634485504194,
//           "Col 5": 3.5147955550481584,
//           "Col 6": 5.231027924433144,
//         },
//         {
//           timestamp: 1730748258816,
//           "Col 2": 4.800777861052632,
//           "Col 5": 3.5468160801438824,
//           "Col 6": 5.242271210741717,
//         },
//         {
//           timestamp: 1730748259816,
//           "Col 2": 5.016260423268073,
//           "Col 5": 3.545802820669265,
//           "Col 6": 5.187453055300787,
//         },
//         {
//           timestamp: 1730748260816,
//           "Col 2": 4.885378667868842,
//           "Col 5": 3.4009877861091313,
//           "Col 6": 5.6444718109800895,
//         },
//         {
//           timestamp: 1730748261816,
//           "Col 2": 4.871630917156015,
//           "Col 5": 2.954255127063915,
//           "Col 6": 5.773866185885559,
//         },
//       ],
//       [
//         { timestamp: 1730748242816, "Col 3": 9.579999721997659 },
//         { timestamp: 1730748243816, "Col 3": 8.468417772749573 },
//         { timestamp: 1730748244816, "Col 3": 10.172049859784696 },
//         { timestamp: 1730748245816, "Col 3": 10.154823380155506 },
//         { timestamp: 1730748246816, "Col 3": 10.810931514787438 },
//         { timestamp: 1730748247816, "Col 3": 13.23766103272783 },
//         { timestamp: 1730748248816, "Col 3": 13.377387968391888 },
//         { timestamp: 1730748249816, "Col 3": 14.936624680856308 },
//         { timestamp: 1730748250816, "Col 3": 15.047936293781861 },
//         { timestamp: 1730748251816, "Col 3": 14.71725112747084 },
//         { timestamp: 1730748252816, "Col 3": 14.773100144729398 },
//         { timestamp: 1730748253816, "Col 3": 15.422725957369659 },
//         { timestamp: 1730748254816, "Col 3": 18.795373942903364 },
//         { timestamp: 1730748255816, "Col 3": 21.05432789485779 },
//         { timestamp: 1730748256816, "Col 3": 21.125673626425694 },
//         { timestamp: 1730748257816, "Col 3": 21.79528615719052 },
//         { timestamp: 1730748258816, "Col 3": 27.157249680058833 },
//         { timestamp: 1730748259816, "Col 3": 26.253149018535662 },
//         { timestamp: 1730748260816, "Col 3": 26.208501247393567 },
//         { timestamp: 1730748261816, "Col 3": 24.31662299844137 },
//       ],
//       [
//         { timestamp: 1730748242816, "Col 7": 14.941547002431706 },
//         { timestamp: 1730748243816, "Col 7": 15.085116820510514 },
//         { timestamp: 1730748244816, "Col 7": 17.92667356042239 },
//         { timestamp: 1730748245816, "Col 7": 21.316644441552572 },
//         { timestamp: 1730748246816, "Col 7": 17.494572961342204 },
//         { timestamp: 1730748247816, "Col 7": 20.24788504042886 },
//         { timestamp: 1730748248816, "Col 7": 19.900792519181266 },
//         { timestamp: 1730748249816, "Col 7": 20.30418880993019 },
//         { timestamp: 1730748250816, "Col 7": 23.94170290749748 },
//         { timestamp: 1730748251816, "Col 7": 28.127082204228763 },
//         { timestamp: 1730748252816, "Col 7": 27.52429054955275 },
//         { timestamp: 1730748253816, "Col 7": 27.50724124131161 },
//         { timestamp: 1730748254816, "Col 7": 27.19903219033014 },
//         { timestamp: 1730748255816, "Col 7": 26.127582032320603 },
//         { timestamp: 1730748256816, "Col 7": 26.301973551208302 },
//         { timestamp: 1730748257816, "Col 7": 26.001319820142765 },
//         { timestamp: 1730748258816, "Col 7": 29.9754849847375 },
//         { timestamp: 1730748259816, "Col 7": 29.69452329142724 },
//         { timestamp: 1730748260816, "Col 7": 25.57144870382625 },
//         { timestamp: 1730748261816, "Col 7": 25.529925228474674 },
//       ],
//       [
//         { timestamp: 1730748242816, "Col 8": 10.026115754461483 },
//         { timestamp: 1730748243816, "Col 8": 10.096237074150539 },
//         { timestamp: 1730748244816, "Col 8": 9.885203851414097 },
//         { timestamp: 1730748245816, "Col 8": 10.299371514550147 },
//         { timestamp: 1730748246816, "Col 8": 11.130401000015029 },
//         { timestamp: 1730748247816, "Col 8": 11.142119514910325 },
//         { timestamp: 1730748248816, "Col 8": 10.963936046858446 },
//         { timestamp: 1730748249816, "Col 8": 11.693780341301961 },
//         { timestamp: 1730748250816, "Col 8": 13.821408186946785 },
//         { timestamp: 1730748251816, "Col 8": 17.392223367576367 },
//         { timestamp: 1730748252816, "Col 8": 21.08222825212897 },
//         { timestamp: 1730748253816, "Col 8": 13.521280947578264 },
//         { timestamp: 1730748254816, "Col 8": 13.491227916113532 },
//         { timestamp: 1730748255816, "Col 8": 13.437142672911984 },
//         { timestamp: 1730748256816, "Col 8": 13.548273951968449 },
//         { timestamp: 1730748257816, "Col 8": 12.776487774697959 },
//         { timestamp: 1730748258816, "Col 8": 12.210435616473866 },
//         { timestamp: 1730748259816, "Col 8": 13.780323119249351 },
//         { timestamp: 1730748260816, "Col 8": 13.245107573679551 },
//         { timestamp: 1730748261816, "Col 8": 13.193867562214644 },
//       ],
//     ],
//     colsAccordingToAggregation: [
//       ["Col 1", 0],
//       ["Col 2", 1],
//       ["Col 3", 2],
//       ["Col 4", 0],
//       ["Col 5", 1],
//       ["Col 6", 1],
//       ["Col 7", 3],
//       ["Col 8", 4],
//     ],
//     yDomain: [2.364553702401327, 29.9754849847375],
//   };

//   // ACT
//   const grouped = aggregatorB(inputValues, dimensions, presentationSettings);

//   // ASSERT
//   expect(grouped).toStrictEqual(expectedResult);
// });
